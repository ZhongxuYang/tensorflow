import{u as Te,l as Dn,T as ke,v as qr,d as Dt,t as Tt,c as nr,o as nt,q as Re,e as rr,w as wt,a as ti,b as ir,s as ot,g as jt,m as gt,h as at,i as Vn,x as Wn,r as Ft,y as ei,p as ni,z as Yn,A as Gn,_ as ri}from"./VueWebcam.vue_vue_type_script_setup_true_lang-qJpK7rsN.js";import{u as ii}from"./useLoadModel-9s-xtA6C.js";import{d as oi,l as Xn,m as ui,o as ai,c as si,e as Kn,a as li}from"./index-B6JO8PmD.js";var hi={};(function(){var l;function h(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var c=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};function p(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Te=="object"&&Te];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var s=p(this);function d(t,e){if(e)t:{var n=s;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in n))break t;n=n[i]}t=t[t.length-1],r=n[t],e=e(r),e!=r&&e!=null&&c(n,t,{configurable:!0,writable:!0,value:e})}}d("Symbol",function(t){function e(u){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new n(r+(u||"")+"_"+i++,u)}function n(u,o){this.h=u,c(this,"description",{configurable:!0,writable:!0,value:o})}if(t)return t;n.prototype.toString=function(){return this.h};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return e}),d("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var r=s[e[n]];typeof r=="function"&&typeof r.prototype[t]!="function"&&c(r.prototype,t,{configurable:!0,writable:!0,value:function(){return m(h(this))}})}return t});function m(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function g(t){var e=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:h(t)}}function v(t){if(!(t instanceof Array)){t=g(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}var w=typeof Object.assign=="function"?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};d("Object.assign",function(t){return t||w});var y=typeof Object.create=="function"?Object.create:function(t){function e(){}return e.prototype=t,new e},M;if(typeof Object.setPrototypeOf=="function")M=Object.setPrototypeOf;else{var j;t:{var A={a:!0},S={};try{S.__proto__=A,j=S.a;break t}catch{}j=!1}M=j?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var F=M;function L(t,e){if(t.prototype=y(e.prototype),t.prototype.constructor=t,F)F(t,e);else for(var n in e)if(n!="prototype")if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.ya=e.prototype}function B(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function V(t){if(t.m)throw new TypeError("Generator is already running");t.m=!0}B.prototype.u=function(t){this.i=t};function H(t,e){t.l={ma:e,na:!0},t.h=t.s||t.v}B.prototype.return=function(t){this.l={return:t},this.h=this.v};function C(t,e,n){return t.h=n,{value:e}}function I(t){this.h=new B,this.i=t}function U(t,e){V(t.h);var n=t.h.j;return n?W(t,"return"in n?n.return:function(r){return{value:r,done:!0}},e,t.h.return):(t.h.return(e),z(t))}function W(t,e,n,r){try{var i=e.call(t.h.j,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.h.m=!1,i;var u=i.value}catch(o){return t.h.j=null,H(t.h,o),z(t)}return t.h.j=null,r.call(t.h,u),z(t)}function z(t){for(;t.h.h;)try{var e=t.i(t.h);if(e)return t.h.m=!1,{value:e.value,done:!1}}catch(n){t.h.i=void 0,H(t.h,n)}if(t.h.m=!1,t.h.l){if(e=t.h.l,t.h.l=null,e.na)throw e.ma;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function R(t){this.next=function(e){return V(t.h),t.h.j?e=W(t,t.h.j.next,e,t.h.u):(t.h.u(e),e=z(t)),e},this.throw=function(e){return V(t.h),t.h.j?e=W(t,t.h.j.throw,e,t.h.u):(H(t.h,e),e=z(t)),e},this.return=function(e){return U(t,e)},this[Symbol.iterator]=function(){return this}}function P(t){function e(r){return t.next(r)}function n(r){return t.throw(r)}return new Promise(function(r,i){function u(o){o.done?r(o.value):Promise.resolve(o.value).then(e,n).then(u,i)}u(t.next())})}function k(t){return P(new R(new I(t)))}d("Promise",function(t){function e(o){this.i=0,this.j=void 0,this.h=[],this.u=!1;var a=this.l();try{o(a.resolve,a.reject)}catch(f){a.reject(f)}}function n(){this.h=null}function r(o){return o instanceof e?o:new e(function(a){a(o)})}if(t)return t;n.prototype.i=function(o){if(this.h==null){this.h=[];var a=this;this.j(function(){a.m()})}this.h.push(o)};var i=s.setTimeout;n.prototype.j=function(o){i(o,0)},n.prototype.m=function(){for(;this.h&&this.h.length;){var o=this.h;this.h=[];for(var a=0;a<o.length;++a){var f=o[a];o[a]=null;try{f()}catch(x){this.l(x)}}}this.h=null},n.prototype.l=function(o){this.j(function(){throw o})},e.prototype.l=function(){function o(x){return function(b){f||(f=!0,x.call(a,b))}}var a=this,f=!1;return{resolve:o(this.I),reject:o(this.m)}},e.prototype.I=function(o){if(o===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(o instanceof e)this.L(o);else{t:switch(typeof o){case"object":var a=o!=null;break t;case"function":a=!0;break t;default:a=!1}a?this.F(o):this.s(o)}},e.prototype.F=function(o){var a=void 0;try{a=o.then}catch(f){this.m(f);return}typeof a=="function"?this.M(a,o):this.s(o)},e.prototype.m=function(o){this.v(2,o)},e.prototype.s=function(o){this.v(1,o)},e.prototype.v=function(o,a){if(this.i!=0)throw Error("Cannot settle("+o+", "+a+"): Promise already settled in state"+this.i);this.i=o,this.j=a,this.i===2&&this.K(),this.H()},e.prototype.K=function(){var o=this;i(function(){if(o.D()){var a=s.console;typeof a<"u"&&a.error(o.j)}},1)},e.prototype.D=function(){if(this.u)return!1;var o=s.CustomEvent,a=s.Event,f=s.dispatchEvent;return typeof f>"u"?!0:(typeof o=="function"?o=new o("unhandledrejection",{cancelable:!0}):typeof a=="function"?o=new a("unhandledrejection",{cancelable:!0}):(o=s.document.createEvent("CustomEvent"),o.initCustomEvent("unhandledrejection",!1,!0,o)),o.promise=this,o.reason=this.j,f(o))},e.prototype.H=function(){if(this.h!=null){for(var o=0;o<this.h.length;++o)u.i(this.h[o]);this.h=null}};var u=new n;return e.prototype.L=function(o){var a=this.l();o.T(a.resolve,a.reject)},e.prototype.M=function(o,a){var f=this.l();try{o.call(a,f.resolve,f.reject)}catch(x){f.reject(x)}},e.prototype.then=function(o,a){function f(T,_){return typeof T=="function"?function(O){try{x(T(O))}catch(N){b(N)}}:_}var x,b,E=new e(function(T,_){x=T,b=_});return this.T(f(o,x),f(a,b)),E},e.prototype.catch=function(o){return this.then(void 0,o)},e.prototype.T=function(o,a){function f(){switch(x.i){case 1:o(x.j);break;case 2:a(x.j);break;default:throw Error("Unexpected state: "+x.i)}}var x=this;this.h==null?u.i(f):this.h.push(f),this.u=!0},e.resolve=r,e.reject=function(o){return new e(function(a,f){f(o)})},e.race=function(o){return new e(function(a,f){for(var x=g(o),b=x.next();!b.done;b=x.next())r(b.value).T(a,f)})},e.all=function(o){var a=g(o),f=a.next();return f.done?r([]):new e(function(x,b){function E(O){return function(N){T[O]=N,_--,_==0&&x(T)}}var T=[],_=0;do T.push(void 0),_++,r(f.value).T(E(T.length-1),b),f=a.next();while(!f.done)})},e});function q(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var u=n++;return{value:e(u,t[u]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}d("Array.prototype.keys",function(t){return t||function(){return q(this,function(e){return e})}}),d("Array.prototype.fill",function(t){return t||function(e,n,r){var i=this.length||0;for(0>n&&(n=Math.max(0,i+n)),(r==null||r>i)&&(r=i),r=Number(r),0>r&&(r=Math.max(0,i+r)),n=Number(n||0);n<r;n++)this[n]=e;return this}});function K(t){return t||Array.prototype.fill}d("Int8Array.prototype.fill",K),d("Uint8Array.prototype.fill",K),d("Uint8ClampedArray.prototype.fill",K),d("Int16Array.prototype.fill",K),d("Uint16Array.prototype.fill",K),d("Int32Array.prototype.fill",K),d("Uint32Array.prototype.fill",K),d("Float32Array.prototype.fill",K),d("Float64Array.prototype.fill",K),d("Object.is",function(t){return t||function(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}}),d("Array.prototype.includes",function(t){return t||function(e,n){var r=this;r instanceof String&&(r=String(r));var i=r.length;for(n=n||0,0>n&&(n=Math.max(n+i,0));n<i;n++){var u=r[n];if(u===e||Object.is(u,e))return!0}return!1}}),d("String.prototype.includes",function(t){return t||function(e,n){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(e,n||0)!==-1}});var st=this||self;function $(t,e){t=t.split(".");var n=st;t[0]in n||typeof n.execScript>"u"||n.execScript("var "+t[0]);for(var r;t.length&&(r=t.shift());)t.length||e===void 0?n[r]&&n[r]!==Object.prototype[r]?n=n[r]:n=n[r]={}:n[r]=e}function xt(t){var e;t:{if((e=st.navigator)&&(e=e.userAgent))break t;e=""}return e.indexOf(t)!=-1}var Et=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=typeof t=="string"?t.split(""):t,u=0;u<n;u++)u in i&&(r[u]=e.call(void 0,i[u],u,t));return r},Pe={},kt=null;function ar(t){var e=t.length,n=3*e/4;n%3?n=Math.floor(n):"=.".indexOf(t[e-1])!=-1&&(n="=.".indexOf(t[e-2])!=-1?n-2:n-1);var r=new Uint8Array(n),i=0;return sr(t,function(u){r[i++]=u}),i!==n?r.subarray(0,i):r}function sr(t,e){function n(f){for(;r<t.length;){var x=t.charAt(r++),b=kt[x];if(b!=null)return b;if(!/^[\s\xa0]*$/.test(x))throw Error("Unknown base64 encoding at char: "+x)}return f}Ne();for(var r=0;;){var i=n(-1),u=n(0),o=n(64),a=n(64);if(a===64&&i===-1)break;e(i<<2|u>>4),o!=64&&(e(u<<4&240|o>>2),a!=64&&e(o<<6&192|a))}}function Ne(){if(!kt){kt={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var r=t.concat(e[n].split(""));Pe[n]=r;for(var i=0;i<r.length;i++){var u=r[i];kt[u]===void 0&&(kt[u]=i)}}}}var oe=typeof Uint8Array<"u",Le=!(xt("Trident")||xt("MSIE"))&&typeof st.btoa=="function";function Ue(t){if(!Le){var e;e===void 0&&(e=0),Ne(),e=Pe[e];for(var n=Array(Math.floor(t.length/3)),r=e[64]||"",i=0,u=0;i<t.length-2;i+=3){var o=t[i],a=t[i+1],f=t[i+2],x=e[o>>2];o=e[(o&3)<<4|a>>4],a=e[(a&15)<<2|f>>6],f=e[f&63],n[u++]=x+o+a+f}switch(x=0,f=r,t.length-i){case 2:x=t[i+1],f=e[(x&15)<<2]||r;case 1:t=t[i],n[u]=e[t>>2]+e[(t&3)<<4|x>>4]+f+r}return n.join("")}for(e="";10240<t.length;)e+=String.fromCharCode.apply(null,t.subarray(0,10240)),t=t.subarray(10240);return e+=String.fromCharCode.apply(null,t),btoa(e)}var He=RegExp("[-_.]","g");function lr(t){switch(t){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function Be(t){if(!Le)return ar(t);He.test(t)&&(t=t.replace(He,lr)),t=atob(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var ze;function ue(){return ze||(ze=new Uint8Array(0))}var Rt={},hr=typeof Uint8Array.prototype.slice=="function",Z=0,et=0;function De(t){var e=0>t;t=Math.abs(t);var n=t>>>0;t=Math.floor((t-n)/4294967296),e&&(n=g(Ve(n,t)),e=n.next().value,t=n.next().value,n=e),Z=n>>>0,et=t>>>0}var fr=typeof BigInt=="function";function Ve(t,e){return e=~e,t?t=~t+1:e+=1,[t,e]}function We(t,e){this.i=t>>>0,this.h=e>>>0}function Ye(t){if(!t)return Ge||(Ge=new We(0,0));if(!/^-?\d+$/.test(t))return null;if(16>t.length)De(Number(t));else if(fr)t=BigInt(t),Z=Number(t&BigInt(4294967295))>>>0,et=Number(t>>BigInt(32)&BigInt(4294967295));else{var e=+(t[0]==="-");et=Z=0;for(var n=t.length,r=e,i=(n-e)%6+e;i<=n;r=i,i+=6)r=Number(t.slice(r,i)),et*=1e6,Z=1e6*Z+r,4294967296<=Z&&(et+=Z/4294967296|0,Z%=4294967296);e&&(e=g(Ve(Z,et)),t=e.next().value,e=e.next().value,Z=t,et=e)}return new We(Z,et)}var Ge;function Xe(t,e){return Error("Invalid wire type: "+t+" (at position "+e+")")}function ae(){return Error("Failed to read varint, encoding is invalid.")}function Ke(t,e){return Error("Tried to read past the end of the data "+e+" > "+t)}function bt(){throw Error("Invalid UTF8")}function Ze(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}var Vt=void 0,se,cr=typeof TextDecoder<"u",$e,dr=typeof TextEncoder<"u",Je;function Qe(t){if(t!==Rt)throw Error("illegal external caller")}function Pt(t,e){if(Qe(e),this.V=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}function le(){return Je||(Je=new Pt(null,Rt))}function qe(t){Qe(Rt);var e=t.V;return e=e==null||oe&&e!=null&&e instanceof Uint8Array?e:typeof e=="string"?Be(e):null,e==null?e:t.V=e}function pr(t){if(typeof t=="string")return{buffer:Be(t),C:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Uint8Array)return{buffer:t,C:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Pt)return{buffer:qe(t)||ue(),C:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function tn(t,e){this.i=null,this.m=!1,this.h=this.j=this.l=0,he(this,t,e)}function he(t,e,n){n=n===void 0?{}:n,t.S=n.S===void 0?!1:n.S,e&&(e=pr(e),t.i=e.buffer,t.m=e.C,t.l=0,t.j=t.i.length,t.h=t.l)}tn.prototype.reset=function(){this.h=this.l};function At(t,e){if(t.h=e,e>t.j)throw Ke(t.j,e)}function Nt(t){var e=t.i,n=t.h,r=e[n++],i=r&127;if(r&128&&(r=e[n++],i|=(r&127)<<7,r&128&&(r=e[n++],i|=(r&127)<<14,r&128&&(r=e[n++],i|=(r&127)<<21,r&128&&(r=e[n++],i|=r<<28,r&128&&e[n++]&128&&e[n++]&128&&e[n++]&128&&e[n++]&128&&e[n++]&128)))))throw ae();return At(t,n),i}function en(t,e){if(0>e)throw Error("Tried to read a negative byte length: "+e);var n=t.h,r=n+e;if(r>t.j)throw Ke(e,t.j-n);return t.h=r,n}var nn=[];function fe(){this.h=[]}fe.prototype.length=function(){return this.h.length},fe.prototype.end=function(){var t=this.h;return this.h=[],t};function rn(t,e,n){for(;0<n||127<e;)t.h.push(e&127|128),e=(e>>>7|n<<25)>>>0,n>>>=7;t.h.push(e)}function _t(t,e){for(;127<e;)t.h.push(e&127|128),e>>>=7;t.h.push(e)}function ce(t,e){if(nn.length){var n=nn.pop();he(n,t,e),t=n}else t=new tn(t,e);this.h=t,this.j=this.h.h,this.i=this.l=-1,this.setOptions(e)}ce.prototype.setOptions=function(t){t=t===void 0?{}:t,this.ca=t.ca===void 0?!1:t.ca},ce.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function on(t){var e=t.h;if(e.h==e.j)return!1;t.j=t.h.h;var n=Nt(t.h)>>>0;if(e=n>>>3,n&=7,!(0<=n&&5>=n))throw Xe(n,t.j);if(1>e)throw Error("Invalid field number: "+e+" (at position "+t.j+")");return t.l=e,t.i=n,!0}function Wt(t){switch(t.i){case 0:if(t.i!=0)Wt(t);else t:{t=t.h;for(var e=t.h,n=e+10,r=t.i;e<n;)if(!(r[e++]&128)){At(t,e);break t}throw ae()}break;case 1:t=t.h,At(t,t.h+8);break;case 2:t.i!=2?Wt(t):(e=Nt(t.h)>>>0,t=t.h,At(t,t.h+e));break;case 5:t=t.h,At(t,t.h+4);break;case 3:e=t.l;do{if(!on(t))throw Error("Unmatched start-group tag: stream EOF");if(t.i==4){if(t.l!=e)throw Error("Unmatched end-group tag");break}Wt(t)}while(!0);break;default:throw Xe(t.i,t.j)}}var Yt=[];function vr(){this.j=[],this.i=0,this.h=new fe}function Ot(t,e){e.length!==0&&(t.j.push(e),t.i+=e.length)}function mr(t,e){if(e=e.R){Ot(t,t.h.end());for(var n=0;n<e.length;n++)Ot(t,qe(e[n])||ue())}}var yt=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function St(t,e){return yt?t[yt]|=e:t.A!==void 0?t.A|=e:(Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}}),e)}function un(t,e){yt?t[yt]&&(t[yt]&=~e):t.A!==void 0&&(t.A&=~e)}function X(t){var e;return yt?e=t[yt]:e=t.A,e??0}function dt(t,e){yt?t[yt]=e:t.A!==void 0?t.A=e:Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}})}function de(t){return St(t,1),t}function yr(t,e){dt(e,(t|0)&-51)}function Gt(t,e){dt(e,(t|18)&-41)}var pe={};function Xt(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}var Lt,an=[];dt(an,23),Lt=Object.freeze(an);function ve(t){if(X(t.o)&2)throw Error("Cannot mutate an immutable Message")}function me(t){var e=t.length;(e=e?t[e-1]:void 0)&&Xt(e)?e.g=1:(e={},t.push((e.g=1,e)))}function sn(t){var e=t.i+t.G;return t.B||(t.B=t.o[e]={})}function lt(t,e){return e===-1?null:e>=t.i?t.B?t.B[e]:void 0:t.o[e+t.G]}function pt(t,e,n,r){ve(t),Ut(t,e,n,r)}function Ut(t,e,n,r){t.j&&(t.j=void 0),e>=t.i||r?sn(t)[e]=n:(t.o[e+t.G]=n,(t=t.B)&&e in t&&delete t[e])}function ye(t,e,n,r){var i=lt(t,e);Array.isArray(i)||(i=Lt);var u=X(i);if(u&1||de(i),r)u&2||St(i,2),n&1||Object.freeze(i);else{r=!(n&2);var o=u&2;n&1||!o?r&&u&16&&!o&&un(i,16):(i=de(Array.prototype.slice.call(i)),Ut(t,e,i))}return i}function ge(t,e){var n=lt(t,e),r=n==null?n:typeof n=="number"||n==="NaN"||n==="Infinity"||n==="-Infinity"?Number(n):void 0;return r!=null&&r!==n&&Ut(t,e,r),r}function ln(t,e,n,r,i){t.h||(t.h={});var u=t.h[n],o=ye(t,n,3,i);if(!u){var a=o;u=[];var f=!!(X(t.o)&16);o=!!(X(a)&2);var x=a;!i&&o&&(a=Array.prototype.slice.call(a));for(var b=o,E=0;E<a.length;E++){var T=a[E],_=e,O=!1;if(O=O===void 0?!1:O,T=Array.isArray(T)?new _(T):O?new _:void 0,T!==void 0){_=T.o;var N=O=X(_);o&&(N|=2),f&&(N|=16),N!=O&&dt(_,N),_=N,b=b||!!(2&_),u.push(T)}}return t.h[n]=u,f=X(a),e=f|33,e=b?e&-9:e|8,f!=e&&(b=a,Object.isFrozen(b)&&(b=Array.prototype.slice.call(b)),dt(b,e),a=b),x!==a&&Ut(t,n,a),(i||r&&o)&&St(u,2),r&&Object.freeze(u),u}return i||(i=Object.isFrozen(u),r&&!i?Object.freeze(u):!r&&i&&(u=Array.prototype.slice.call(u),t.h[n]=u)),u}function Kt(t,e,n){var r=!!(X(t.o)&2);if(e=ln(t,e,n,r,r),t=ye(t,n,3,r),!(r||X(t)&8)){for(r=0;r<e.length;r++){if(n=e[r],X(n.o)&2){var i=vn(n,!1);i.j=n}else i=n;n!==i&&(e[r]=i,t[r]=i.o)}St(t,8)}return e}function vt(t,e,n){if(n!=null&&typeof n!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof n+": "+n);pt(t,e,n)}function hn(t,e,n,r,i){ve(t);var u=ln(t,n,e,!1,!1);return n=r??new n,t=ye(t,e,2,!1),i!=null?(u.splice(i,0,n),t.splice(i,0,n.o)):(u.push(n),t.push(n.o)),n.C()&&un(t,8),n}function Zt(t,e){return t??e}function mt(t,e,n){return n=n===void 0?0:n,Zt(ge(t,e),n)}var $t;function gr(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":if(t)if(Array.isArray(t)){if(X(t)&128)return t=Array.prototype.slice.call(t),me(t),t}else{if(oe&&t!=null&&t instanceof Uint8Array)return Ue(t);if(t instanceof Pt){var e=t.V;return e==null?"":typeof e=="string"?e:t.V=Ue(e)}}}return t}function fn(t,e,n,r){if(t!=null){if(Array.isArray(t))t=we(t,e,n,r!==void 0);else if(Xt(t)){var i={},u;for(u in t)i[u]=fn(t[u],e,n,r);t=i}else t=e(t,r);return t}}function we(t,e,n,r){var i=X(t);r=r?!!(i&16):void 0,t=Array.prototype.slice.call(t);for(var u=0;u<t.length;u++)t[u]=fn(t[u],e,n,r);return n(i,t),t}function wr(t){return t.ja===pe?t.toJSON():gr(t)}function xr(t,e){t&128&&me(e)}function cn(t,e,n){if(n=n===void 0?Gt:n,t!=null){if(oe&&t instanceof Uint8Array)return t.length?new Pt(new Uint8Array(t),Rt):le();if(Array.isArray(t)){var r=X(t);return r&2?t:e&&!(r&32)&&(r&16||r===0)?(dt(t,r|2),t):(t=we(t,cn,r&4?Gt:n,!0),e=X(t),e&4&&e&2&&Object.freeze(t),t)}return t.ja===pe?pn(t):t}}function dn(t,e,n,r,i,u,o){if(t=t.h&&t.h[n]){if(r=X(t),r&2?r=t:(u=Et(t,pn),Gt(r,u),Object.freeze(u),r=u),ve(e),o=r==null?Lt:de([]),r!=null){for(u=!!r.length,t=0;t<r.length;t++){var a=r[t];u=u&&!(X(a.o)&2),o[t]=a.o}u=(u?8:0)|1,t=X(o),(t&u)!==u&&(Object.isFrozen(o)&&(o=Array.prototype.slice.call(o)),dt(o,t|u)),e.h||(e.h={}),e.h[n]=r}else e.h&&(e.h[n]=void 0);Ut(e,n,o,i)}else pt(e,n,cn(r,u,o),i)}function pn(t){return X(t.o)&2||(t=vn(t,!0),St(t.o,2)),t}function vn(t,e){var n=t.o,r=[];St(r,16);var i=t.constructor.h;if(i&&r.push(i),i=t.B,i){r.length=n.length,r.fill(void 0,r.length,n.length);var u={};r[r.length-1]=u}X(n)&128&&me(r),e=e||t.C()?Gt:yr,u=t.constructor,$t=r,r=new u(r),$t=void 0,t.R&&(r.R=t.R.slice()),u=!!(X(n)&16);for(var o=i?n.length-1:n.length,a=0;a<o;a++)dn(t,r,a-t.G,n[a],!1,u,e);if(i)for(var f in i)dn(t,r,+f,i[f],!0,u,e);return r}function rt(t,e,n){t==null&&(t=$t),$t=void 0;var r=this.constructor.i||0,i=0<r,u=this.constructor.h,o=!1;if(t==null){t=u?[u]:[];var a=48,f=!0;i&&(r=0,a|=128),dt(t,a)}else{if(!Array.isArray(t)||u&&u!==t[0])throw Error();var x=a=St(t,0);if((f=(16&x)!==0)&&((o=(32&x)!==0)||(x|=32)),i){if(128&x)r=0;else if(0<t.length){var b=t[t.length-1];if(Xt(b)&&"g"in b){r=0,x|=128,delete b.g;var E=!0,T;for(T in b){E=!1;break}E&&t.pop()}}}else if(128&x)throw Error();a!==x&&dt(t,x)}this.G=(u?0:-1)-r,this.h=void 0,this.o=t;t:{if(u=this.o.length,r=u-1,u&&(u=this.o[r],Xt(u))){this.B=u,this.i=r-this.G;break t}e!==void 0&&-1<e?(this.i=Math.max(e,r+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!i&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n){e=f&&!o&&!0,i=this.i;var _;for(f=0;f<n.length;f++)o=n[f],o<i?(o+=this.G,(r=t[o])?mn(r,e):t[o]=Lt):(_||(_=sn(this)),(r=_[o])?mn(r,e):_[o]=Lt)}}rt.prototype.toJSON=function(){return we(this.o,wr,xr)},rt.prototype.C=function(){return!!(X(this.o)&2)};function mn(t,e){if(Array.isArray(t)){var n=X(t),r=1;!e||n&2||(r|=16),(n&r)!==r&&dt(t,n|r)}}rt.prototype.ja=pe,rt.prototype.toString=function(){return this.o.toString()};function yn(t,e,n){if(n){var r={},i;for(i in n){var u=n[i],o=u.qa;o||(r.J=u.wa||u.oa.W,u.ia?(r.aa=bn(u.ia),o=function(a){return function(f,x,b){return a.J(f,x,b,a.aa)}}(r)):u.ka?(r.Z=An(u.da.P,u.ka),o=function(a){return function(f,x,b){return a.J(f,x,b,a.Z)}}(r)):o=r.J,u.qa=o),o(e,t,u.da),r={J:r.J,aa:r.aa,Z:r.Z}}}mr(e,t)}var Jt=Symbol();function gn(t,e,n){return t[Jt]||(t[Jt]=function(r,i){return e(r,i,n)})}function wn(t){var e=t[Jt];if(!e){var n=Me(t);e=function(r,i){return _n(r,i,n)},t[Jt]=e}return e}function Mr(t){var e=t.ia;if(e)return wn(e);if(e=t.va)return gn(t.da.P,e,t.ka)}function br(t){var e=Mr(t),n=t.da,r=t.oa.U;return e?function(i,u){return r(i,u,n,e)}:function(i,u){return r(i,u,n)}}function xn(t,e){var n=t[e];return typeof n=="function"&&n.length===0&&(n=n(),t[e]=n),Array.isArray(n)&&(Bt in n||Ht in n||0<n.length&&typeof n[0]=="function")?n:void 0}function Mn(t,e,n,r,i,u){e.P=t[0];var o=1;if(t.length>o&&typeof t[o]!="number"){var a=t[o++];n(e,a)}for(;o<t.length;){n=t[o++];for(var f=o+1;f<t.length&&typeof t[f]!="number";)f++;switch(a=t[o++],f-=o,f){case 0:r(e,n,a);break;case 1:(f=xn(t,o))?(o++,i(e,n,a,f)):r(e,n,a,t[o++]);break;case 2:f=o++,f=xn(t,f),i(e,n,a,f,t[o++]);break;case 3:u(e,n,a,t[o++],t[o++],t[o++]);break;case 4:u(e,n,a,t[o++],t[o++],t[o++],t[o++]);break;default:throw Error("unexpected number of binary field arguments: "+f)}}return e}var Qt=Symbol();function bn(t){var e=t[Qt];if(!e){var n=xe(t);e=function(r,i){return Sn(r,i,n)},t[Qt]=e}return e}function An(t,e){var n=t[Qt];return n||(n=function(r,i){return yn(r,i,e)},t[Qt]=n),n}var Ht=Symbol();function Ar(t,e){t.push(e)}function _r(t,e,n){t.push(e,n.W)}function Sr(t,e,n,r){var i=bn(r),u=xe(r).P,o=n.W;t.push(e,function(a,f,x){return o(a,f,x,u,i)})}function jr(t,e,n,r,i,u){var o=An(r,u),a=n.W;t.push(e,function(f,x,b){return a(f,x,b,r,o)})}function xe(t){var e=t[Ht];return e||(e=Mn(t,t[Ht]=[],Ar,_r,Sr,jr),Bt in t&&Ht in t&&(t.length=0),e)}var Bt=Symbol();function Tr(t,e){t[0]=e}function Er(t,e,n,r){var i=n.U;t[e]=r?function(u,o,a){return i(u,o,a,r)}:i}function Or(t,e,n,r,i){var u=n.U,o=wn(r),a=Me(r).P;t[e]=function(f,x,b){return u(f,x,b,a,o,i)}}function Cr(t,e,n,r,i,u,o){var a=n.U,f=gn(r,i,u);t[e]=function(x,b,E){return a(x,b,E,r,f,o)}}function Me(t){var e=t[Bt];return e||(e=Mn(t,t[Bt]={},Tr,Er,Or,Cr),Bt in t&&Ht in t&&(t.length=0),e)}function _n(t,e,n){for(;on(e)&&e.i!=4;){var r=e.l,i=n[r];if(!i){var u=n[0];u&&(u=u[r])&&(i=n[r]=br(u))}if(!i||!i(e,t,r)){i=e,r=t,u=i.j,Wt(i);var o=i;if(!o.ca){if(i=o.h.h-u,o.h.h=u,o=o.h,i==0)i=le();else{if(u=en(o,i),o.S&&o.m)i=o.i.subarray(u,u+i);else{o=o.i;var a=u;i=u+i,i=a===i?ue():hr?o.slice(a,i):new Uint8Array(o.subarray(a,i))}i=i.length==0?le():new Pt(i,Rt)}(u=r.R)?u.push(i):r.R=[i]}}}return t}function Sn(t,e,n){for(var r=n.length,i=r%2==1,u=i?1:0;u<r;u+=2)(0,n[u+1])(e,t,n[u]);yn(t,e,i?n[0]:void 0)}function zt(t,e){return{U:t,W:e}}var ht=zt(function(t,e,n){if(t.i!==5)return!1;t=t.h;var r=t.i,i=t.h,u=r[i],o=r[i+1],a=r[i+2];return r=r[i+3],At(t,t.h+4),o=(u<<0|o<<8|a<<16|r<<24)>>>0,t=2*(o>>31)+1,u=o>>>23&255,o&=8388607,pt(e,n,u==255?o?NaN:1/0*t:u==0?t*Math.pow(2,-149)*o:t*Math.pow(2,u-150)*(o+Math.pow(2,23))),!0},function(t,e,n){if(e=ge(e,n),e!=null){_t(t.h,8*n+5),t=t.h;var r=+e;r===0?0<1/r?Z=et=0:(et=0,Z=2147483648):isNaN(r)?(et=0,Z=2147483647):(r=(n=0>r?-2147483648:0)?-r:r,34028234663852886e22<r?(et=0,Z=(n|2139095040)>>>0):11754943508222875e-54>r?(r=Math.round(r/Math.pow(2,-149)),et=0,Z=(n|r)>>>0):(e=Math.floor(Math.log(r)/Math.LN2),r*=Math.pow(2,-e),r=Math.round(8388608*r),16777216<=r&&++e,et=0,Z=(n|e+127<<23|r&8388607)>>>0)),n=Z,t.h.push(n>>>0&255),t.h.push(n>>>8&255),t.h.push(n>>>16&255),t.h.push(n>>>24&255)}}),Ir=zt(function(t,e,n){if(t.i!==0)return!1;var r=t.h,i=0,u=t=0,o=r.i,a=r.h;do{var f=o[a++];i|=(f&127)<<u,u+=7}while(32>u&&f&128);for(32<u&&(t|=(f&127)>>4),u=3;32>u&&f&128;u+=7)f=o[a++],t|=(f&127)<<u;if(At(r,a),128>f)r=i>>>0,f=t>>>0,(t=f&2147483648)&&(r=~r+1>>>0,f=~f>>>0,r==0&&(f=f+1>>>0)),r=4294967296*f+(r>>>0);else throw ae();return pt(e,n,t?-r:r),!0},function(t,e,n){e=lt(e,n),e!=null&&(typeof e=="string"&&Ye(e),e!=null&&(_t(t.h,8*n),typeof e=="number"?(t=t.h,De(e),rn(t,Z,et)):(n=Ye(e),rn(t.h,n.i,n.h))))}),Fr=zt(function(t,e,n){return t.i!==0?!1:(pt(e,n,Nt(t.h)),!0)},function(t,e,n){if(e=lt(e,n),e!=null&&e!=null)if(_t(t.h,8*n),t=t.h,n=e,0<=n)_t(t,n);else{for(e=0;9>e;e++)t.h.push(n&127|128),n>>=7;t.h.push(1)}}),jn=zt(function(t,e,n){if(t.i!==2)return!1;var r=Nt(t.h)>>>0;t=t.h;var i=en(t,r);if(t=t.i,cr){var u=t,o;(o=se)||(o=se=new TextDecoder("utf-8",{fatal:!0})),t=i+r,u=i===0&&t===u.length?u:u.subarray(i,t);try{var a=o.decode(u)}catch(E){if(Vt===void 0){try{o.decode(new Uint8Array([128]))}catch{}try{o.decode(new Uint8Array([97])),Vt=!0}catch{Vt=!1}}throw!Vt&&(se=void 0),E}}else{a=i,r=a+r,i=[];for(var f=null,x,b;a<r;)x=t[a++],128>x?i.push(x):224>x?a>=r?bt():(b=t[a++],194>x||(b&192)!==128?(a--,bt()):i.push((x&31)<<6|b&63)):240>x?a>=r-1?bt():(b=t[a++],(b&192)!==128||x===224&&160>b||x===237&&160<=b||((u=t[a++])&192)!==128?(a--,bt()):i.push((x&15)<<12|(b&63)<<6|u&63)):244>=x?a>=r-2?bt():(b=t[a++],(b&192)!==128||(x<<28)+(b-144)>>30||((u=t[a++])&192)!==128||((o=t[a++])&192)!==128?(a--,bt()):(x=(x&7)<<18|(b&63)<<12|(u&63)<<6|o&63,x-=65536,i.push((x>>10&1023)+55296,(x&1023)+56320))):bt(),8192<=i.length&&(f=Ze(f,i),i.length=0);a=Ze(f,i)}return pt(e,n,a),!0},function(t,e,n){if(e=lt(e,n),e!=null){var r=!1;if(r=r===void 0?!1:r,dr){if(r&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=($e||($e=new TextEncoder)).encode(e)}else{for(var i=0,u=new Uint8Array(3*e.length),o=0;o<e.length;o++){var a=e.charCodeAt(o);if(128>a)u[i++]=a;else{if(2048>a)u[i++]=a>>6|192;else{if(55296<=a&&57343>=a){if(56319>=a&&o<e.length){var f=e.charCodeAt(++o);if(56320<=f&&57343>=f){a=1024*(a-55296)+f-56320+65536,u[i++]=a>>18|240,u[i++]=a>>12&63|128,u[i++]=a>>6&63|128,u[i++]=a&63|128;continue}else o--}if(r)throw Error("Found an unpaired surrogate");a=65533}u[i++]=a>>12|224,u[i++]=a>>6&63|128}u[i++]=a&63|128}}e=i===u.length?u:u.subarray(0,i)}_t(t.h,8*n+2),_t(t.h,e.length),Ot(t,t.h.end()),Ot(t,e)}}),Tn=zt(function(t,e,n,r,i){if(t.i!==2)return!1;e=hn(e,n,r),n=t.h.j,r=Nt(t.h)>>>0;var u=t.h.h+r,o=u-n;if(0>=o&&(t.h.j=u,i(e,t,void 0,void 0,void 0),o=u-t.h.h),o)throw Error("Message parsing ended unexpectedly. Expected to read "+(r+" bytes, instead read "+(r-o)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return t.h.h=u,t.h.j=n,!0},function(t,e,n,r,i){if(e=Kt(e,r,n),e!=null)for(r=0;r<e.length;r++){var u=t;_t(u.h,8*n+2);var o=u.h.end();Ot(u,o),o.push(u.i),u=o,i(e[r],t),o=t;var a=u.pop();for(a=o.i+o.h.length()-a;127<a;)u.push(a&127|128),a>>>=7,o.i++;u.push(a),o.i++}});function be(t){return function(e,n){t:{if(Yt.length){var r=Yt.pop();r.setOptions(n),he(r.h,e,n),e=r}else e=new ce(e,n);try{var i=Me(t),u=_n(new i.P,e,i);break t}finally{i=e.h,i.i=null,i.m=!1,i.l=0,i.j=0,i.h=0,i.S=!1,e.l=-1,e.i=-1,100>Yt.length&&Yt.push(e)}u=void 0}return u}}function Ae(t){return function(){var e=new vr;Sn(this,e,xe(t)),Ot(e,e.h.end());for(var n=new Uint8Array(e.i),r=e.j,i=r.length,u=0,o=0;o<i;o++){var a=r[o];n.set(a,u),u+=a.length}return e.j=[n],n}}function Ct(t){rt.call(this,t)}L(Ct,rt);var En=[Ct,1,Fr,2,ht,3,jn,4,jn];Ct.prototype.l=Ae(En);function _e(t){rt.call(this,t,-1,kr)}L(_e,rt),_e.prototype.addClassification=function(t,e){return hn(this,1,Ct,t,e),this};var kr=[1],On=be([_e,1,Tn,En]);function It(t){rt.call(this,t)}L(It,rt);var Cn=[It,1,ht,2,ht,3,ht,4,ht,5,ht];It.prototype.l=Ae(Cn);function In(t){rt.call(this,t,-1,Rr)}L(In,rt);var Rr=[1],Fn=be([In,1,Tn,Cn]);function qt(t){rt.call(this,t)}L(qt,rt);var kn=[qt,1,ht,2,ht,3,ht,4,ht,5,ht,6,Ir],Pr=be(kn);qt.prototype.l=Ae(kn);function Rn(t,e,n){if(n=t.createShader(n===0?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+t.getShaderInfoLog(n));return n}function Pn(t){return Kt(t,Ct,1).map(function(e){var n=lt(e,1);return{index:n??0,score:mt(e,2),label:lt(e,3)!=null?Zt(lt(e,3),""):void 0,displayName:lt(e,4)!=null?Zt(lt(e,4),""):void 0}})}function Nn(t){return{x:mt(t,1),y:mt(t,2),z:mt(t,3),visibility:ge(t,4)!=null?mt(t,4):void 0}}function Ln(t){return t.map(function(e){return Kt(Fn(e),It,1).map(Nn)})}function Se(t,e){this.i=t,this.h=e,this.m=0}function Un(t,e,n){return Nr(t,e),typeof t.h.canvas.transferToImageBitmap=="function"?Promise.resolve(t.h.canvas.transferToImageBitmap()):n?Promise.resolve(t.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(t.h.canvas):(t.j===void 0&&(t.j=document.createElement("canvas")),new Promise(function(r){t.j.height=t.h.canvas.height,t.j.width=t.h.canvas.width,t.j.getContext("2d",{}).drawImage(t.h.canvas,0,0,t.h.canvas.width,t.h.canvas.height),r(t.j)}))}function Nr(t,e){var n=t.h;if(t.s===void 0){var r=Rn(n,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),i=Rn(n,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),u=n.createProgram();if(n.attachShader(u,r),n.attachShader(u,i),n.linkProgram(u),!n.getProgramParameter(u,n.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+n.getProgramInfoLog(u));r=t.s=u,n.useProgram(r),i=n.getUniformLocation(r,"sampler0"),t.l={O:n.getAttribLocation(r,"aVertex"),N:n.getAttribLocation(r,"aTex"),xa:i},t.v=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t.v),n.enableVertexAttribArray(t.l.O),n.vertexAttribPointer(t.l.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),t.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,t.u),n.enableVertexAttribArray(t.l.N),n.vertexAttribPointer(t.l.N,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(i,0)}r=t.l,n.useProgram(t.s),n.canvas.width=e.width,n.canvas.height=e.height,n.viewport(0,0,e.width,e.height),n.activeTexture(n.TEXTURE0),t.i.bindTexture2d(e.glName),n.enableVertexAttribArray(r.O),n.bindBuffer(n.ARRAY_BUFFER,t.v),n.vertexAttribPointer(r.O,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,t.u),n.vertexAttribPointer(r.N,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(r.O),n.disableVertexAttribArray(r.N),n.bindBuffer(n.ARRAY_BUFFER,null),t.i.bindTexture2d(0)}function Lr(t){this.h=t}var Ur=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Hr(t,e){return e+t}function Hn(t,e){window[t]=e}function Br(t){var e=document.createElement("script");return e.setAttribute("src",t),e.setAttribute("crossorigin","anonymous"),new Promise(function(n){e.addEventListener("load",function(){n()},!1),e.addEventListener("error",function(){n()},!1),document.body.appendChild(e)})}function zr(){return k(function(t){switch(t.h){case 1:return t.s=2,C(t,WebAssembly.instantiate(Ur),4);case 4:t.h=3,t.s=0;break;case 2:return t.s=0,t.l=null,t.return(!1);case 3:return t.return(!0)}})}function je(t){if(this.h=t,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=t&&t.locateFile||Hr,typeof window=="object")var e=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")e=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=e,t.options){e=g(Object.keys(t.options));for(var n=e.next();!n.done;n=e.next()){n=n.value;var r=t.options[n].default;r!==void 0&&(this.l[n]=typeof r=="function"?r():r)}}}l=je.prototype,l.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function Dr(t){var e,n,r,i,u,o,a,f,x,b,E;return k(function(T){switch(T.h){case 1:return t.ga?(e=t.h.files===void 0?[]:typeof t.h.files=="function"?t.h.files(t.l):t.h.files,C(T,zr(),2)):T.return();case 2:if(n=T.i,typeof window=="object")return Hn("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),Hn("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),o=e.filter(function(_){return _.data!==void 0}),a=e.filter(function(_){return _.data===void 0}),f=Promise.all(o.map(function(_){var O=te(t,_.url);if(_.path!==void 0){var N=_.path;O=O.then(function(G){return t.overrideFile(N,G),Promise.resolve(G)})}return O})),x=Promise.all(a.map(function(_){return _.simd===void 0||_.simd&&n||!_.simd&&!n?Br(t.locateFile(_.url,t.ha)):Promise.resolve()})).then(function(){var _,O,N;return k(function(G){if(G.h==1)return _=window.createMediapipeSolutionsWasm,O=window.createMediapipeSolutionsPackedAssets,N=t,C(G,_(O),2);N.i=G.i,G.h=0})}),b=function(){return k(function(_){return t.h.graph&&t.h.graph.url?_=C(_,te(t,t.h.graph.url),0):(_.h=0,_=void 0),_})}(),C(T,Promise.all([x,f,b]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return r=e.filter(function(_){return _.simd===void 0||_.simd&&n||!_.simd&&!n}).map(function(_){return t.locateFile(_.url,t.ha)}),importScripts.apply(null,v(r)),i=t,C(T,createMediapipeSolutionsWasm(Module),6);case 6:i.i=T.i,t.m=new OffscreenCanvas(1,1),t.i.canvas=t.m,u=t.i.GL.createContext(t.m,{antialias:!1,alpha:!1,ua:typeof WebGL2RenderingContext<"u"?2:1}),t.i.GL.makeContextCurrent(u),T.h=4;break;case 7:if(t.m=document.createElement("canvas"),E=t.m.getContext("webgl2",{}),!E&&(E=t.m.getContext("webgl",{}),!E))return alert("Failed to create WebGL canvas context when passing video frame."),T.return();t.K=E,t.i.canvas=t.m,t.i.createContext(t.m,!0,!0,{});case 4:t.j=new t.i.SolutionWasm,t.ga=!1,T.h=0}})}function Vr(t){var e,n,r,i,u,o,a,f;return k(function(x){if(x.h==1){if(t.h.graph&&t.h.graph.url&&t.fa===t.h.graph.url)return x.return();if(t.u=!0,!t.h.graph||!t.h.graph.url){x.h=2;return}return t.fa=t.h.graph.url,C(x,te(t,t.h.graph.url),3)}for(x.h!=2&&(e=x.i,t.j.loadGraph(e)),n=g(Object.keys(t.D)),r=n.next();!r.done;r=n.next())i=r.value,t.j.overrideFile(i,t.D[i]);if(t.D={},t.h.listeners)for(u=g(t.h.listeners),o=u.next();!o.done;o=u.next())a=o.value,Xr(t,a);f=t.l,t.l={},t.setOptions(f),x.h=0})}l.reset=function(){var t=this;return k(function(e){t.j&&(t.j.reset(),t.s={},t.v={}),e.h=0})},l.setOptions=function(t,e){var n=this;if(e=e||this.h.options){for(var r=[],i=[],u={},o=g(Object.keys(t)),a=o.next();!a.done;u={X:u.X,Y:u.Y},a=o.next())if(a=a.value,!(a in this.l&&this.l[a]===t[a])){this.l[a]=t[a];var f=e[a];f!==void 0&&(f.onChange&&(u.X=f.onChange,u.Y=t[a],r.push(function(x){return function(){var b;return k(function(E){if(E.h==1)return C(E,x.X(x.Y),2);b=E.i,b===!0&&(n.u=!0),E.h=0})}}(u))),f.graphOptionXref&&(a=Object.assign({},{calculatorName:"",calculatorIndex:0},f.graphOptionXref,{valueNumber:f.type===1?t[a]:0,valueBoolean:f.type===0?t[a]:!1,valueString:f.type===2?t[a]:""}),i.push(a)))}(r.length!==0||i.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(i),this.F=(this.F===void 0?[]:this.F).concat(r))}};function Wr(t){var e,n,r,i,u,o,a;return k(function(f){switch(f.h){case 1:if(!t.u)return f.return();if(!t.F){f.h=2;break}e=g(t.F),n=e.next();case 3:if(n.done){f.h=5;break}return r=n.value,C(f,r(),4);case 4:n=e.next(),f.h=3;break;case 5:t.F=void 0;case 2:if(t.H){for(i=new t.i.GraphOptionChangeRequestList,u=g(t.H),o=u.next();!o.done;o=u.next())a=o.value,i.push_back(a);t.j.changeOptions(i),i.delete(),t.H=void 0}t.u=!1,f.h=0}})}l.initialize=function(){var t=this;return k(function(e){return e.h==1?C(e,Dr(t),2):e.h!=3?C(e,Vr(t),3):C(e,Wr(t),0)})};function te(t,e){var n,r;return k(function(i){return e in t.L?i.return(t.L[e]):(n=t.locateFile(e,""),r=fetch(n).then(function(u){return u.arrayBuffer()}),t.L[e]=r,i.return(r))})}l.overrideFile=function(t,e){this.j?this.j.overrideFile(t,e):this.D[t]=e},l.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},l.send=function(t,e){var n=this,r,i,u,o,a,f,x,b,E;return k(function(T){switch(T.h){case 1:return n.h.inputs?(r=1e3*(e??performance.now()),C(T,n.I,2)):T.return();case 2:return C(T,n.initialize(),3);case 3:for(i=new n.i.PacketDataList,u=g(Object.keys(t)),o=u.next();!o.done;o=u.next())if(a=o.value,f=n.h.inputs[a]){t:{var _=t[a];switch(f.type){case"video":var O=n.s[f.stream];if(O||(O=new Se(n.i,n.K),n.s[f.stream]=O),O.m===0&&(O.m=O.i.createTexture()),typeof HTMLVideoElement<"u"&&_ instanceof HTMLVideoElement)var N=_.videoWidth,G=_.videoHeight;else typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement?(N=_.naturalWidth,G=_.naturalHeight):(N=_.width,G=_.height);G={glName:O.m,width:N,height:G},N=O.h,N.canvas.width=G.width,N.canvas.height=G.height,N.activeTexture(N.TEXTURE0),O.i.bindTexture2d(O.m),N.texImage2D(N.TEXTURE_2D,0,N.RGBA,N.RGBA,N.UNSIGNED_BYTE,_),O.i.bindTexture2d(0),O=G;break t;case"detections":for(O=n.s[f.stream],O||(O=new Lr(n.i),n.s[f.stream]=O),O.data||(O.data=new O.h.DetectionListData),O.data.reset(_.length),G=0;G<_.length;++G){N=_[G];var Y=O.data,J=Y.setBoundingBox,ut=G,it=N.la,D=new qt;if(vt(D,1,it.ra),vt(D,2,it.sa),vt(D,3,it.height),vt(D,4,it.width),vt(D,5,it.rotation),pt(D,6,it.pa),it=D.l(),J.call(Y,ut,it),N.ea)for(Y=0;Y<N.ea.length;++Y){D=N.ea[Y],J=O.data,ut=J.addNormalizedLandmark,it=G,D=Object.assign({},D,{visibility:D.visibility?D.visibility:0});var Q=new It;vt(Q,1,D.x),vt(Q,2,D.y),vt(Q,3,D.z),D.visibility&&vt(Q,4,D.visibility),D=Q.l(),ut.call(J,it,D)}if(N.ba)for(Y=0;Y<N.ba.length;++Y)J=O.data,ut=J.addClassification,it=G,D=N.ba[Y],Q=new Ct,vt(Q,2,D.score),D.index&&pt(Q,1,D.index),D.label&&pt(Q,3,D.label),D.displayName&&pt(Q,4,D.displayName),D=Q.l(),ut.call(J,it,D)}O=O.data;break t;default:O={}}}switch(x=O,b=f.stream,f.type){case"video":i.pushTexture2d(Object.assign({},x,{stream:b,timestamp:r}));break;case"detections":E=x,E.stream=b,E.timestamp=r,i.pushDetectionList(E);break;default:throw Error("Unknown input config type: '"+f.type+"'")}}return n.j.send(i),C(T,n.I,4);case 4:i.delete(),T.h=0}})};function Yr(t,e,n){var r,i,u,o,a,f,x,b,E,T,_,O,N,G;return k(function(Y){switch(Y.h){case 1:if(!n)return Y.return(e);for(r={},i=0,u=g(Object.keys(n)),o=u.next();!o.done;o=u.next())a=o.value,f=n[a],typeof f!="string"&&f.type==="texture"&&e[f.stream]!==void 0&&++i;1<i&&(t.M=!1),x=g(Object.keys(n)),o=x.next();case 2:if(o.done){Y.h=4;break}if(b=o.value,E=n[b],typeof E=="string")return N=r,G=b,C(Y,Gr(t,b,e[E]),14);if(T=e[E.stream],E.type==="detection_list"){if(T){for(var J=T.getRectList(),ut=T.getLandmarksList(),it=T.getClassificationsList(),D=[],Q=0;Q<J.size();++Q){var Mt=Pr(J.get(Q)),Kr=mt(Mt,1),Zr=mt(Mt,2),$r=mt(Mt,3),Jr=mt(Mt,4),Qr=mt(Mt,5,0),ee=void 0;ee=ee===void 0?0:ee,Mt={la:{ra:Kr,sa:Zr,height:$r,width:Jr,rotation:Qr,pa:Zt(lt(Mt,6),ee)},ea:Kt(Fn(ut.get(Q)),It,1).map(Nn),ba:Pn(On(it.get(Q)))},D.push(Mt)}J=D}else J=[];r[b]=J,Y.h=7;break}if(E.type==="proto_list"){if(T){for(J=Array(T.size()),ut=0;ut<T.size();ut++)J[ut]=T.get(ut);T.delete()}else J=[];r[b]=J,Y.h=7;break}if(T===void 0){Y.h=3;break}if(E.type==="float_list"){r[b]=T,Y.h=7;break}if(E.type==="proto"){r[b]=T,Y.h=7;break}if(E.type!=="texture")throw Error("Unknown output config type: '"+E.type+"'");return _=t.v[b],_||(_=new Se(t.i,t.K),t.v[b]=_),C(Y,Un(_,T,t.M),13);case 13:O=Y.i,r[b]=O;case 7:E.transform&&r[b]&&(r[b]=E.transform(r[b])),Y.h=3;break;case 14:N[G]=Y.i;case 3:o=x.next(),Y.h=2;break;case 4:return Y.return(r)}})}function Gr(t,e,n){var r;return k(function(i){return typeof n=="number"||n instanceof Uint8Array||n instanceof t.i.Uint8BlobList?i.return(n):n instanceof t.i.Texture2dDataOut?(r=t.v[e],r||(r=new Se(t.i,t.K),t.v[e]=r),i.return(Un(r,n,t.M))):i.return(void 0)})}function Xr(t,e){for(var n=e.name||"$",r=[].concat(v(e.wants)),i=new t.i.StringList,u=g(e.wants),o=u.next();!o.done;o=u.next())i.push_back(o.value);u=t.i.PacketListener.implement({onResults:function(a){for(var f={},x=0;x<e.wants.length;++x)f[r[x]]=a.get(x);var b=t.listeners[n];b&&(t.I=Yr(t,f,e.outs).then(function(E){E=b(E);for(var T=0;T<e.wants.length;++T){var _=f[r[T]];typeof _=="object"&&_.hasOwnProperty&&_.hasOwnProperty("delete")&&_.delete()}E&&(t.I=E)}))}}),t.j.attachMultiListener(i,u),i.delete()}l.onResults=function(t,e){this.listeners[e||"$"]=t},$("Solution",je),$("OptionType",{BOOL:0,NUMBER:1,ta:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Bn(t){return t===void 0&&(t=0),t===1?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}function zn(t){var e=this;t=t||{},this.h=new je({locateFile:t.locateFile,files:function(n){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:Bn(n.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Ln},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Ln},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(n){return n.map(function(r){return Pn(On(r))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(n){var r,i,u;return k(function(o){return o.h==1?(r=Bn(n),i="third_party/mediapipe/modules/hand_landmark/"+r,C(o,te(e.h,r),2)):(u=o.i,e.h.overrideFile(i,u),o.return(!0))})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}}}})}l=zn.prototype,l.close=function(){return this.h.close(),Promise.resolve()},l.onResults=function(t){this.h.onResults(t)},l.initialize=function(){var t=this;return k(function(e){return C(e,t.h.initialize(),0)})},l.reset=function(){this.h.reset()},l.send=function(t){var e=this;return k(function(n){return C(n,e.h.send(t),0)})},l.setOptions=function(t){this.h.setOptions(t)},$("Hands",zn),$("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]),$("VERSION","0.4.1675469240")}).call(Te);/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var tt=function(){return tt=Object.assign||function(l){for(var h,c=1,p=arguments.length;c<p;c++)for(var s in h=arguments[c])Object.prototype.hasOwnProperty.call(h,s)&&(l[s]=h[s]);return l},tt.apply(this,arguments)};function ft(l,h,c,p){return new(c||(c=Promise))(function(s,d){function m(w){try{v(p.next(w))}catch(y){d(y)}}function g(w){try{v(p.throw(w))}catch(y){d(y)}}function v(w){var y;w.done?s(w.value):(y=w.value,y instanceof c?y:new c(function(M){M(y)})).then(m,g)}v((p=p.apply(l,[])).next())})}function ct(l,h){var c,p,s,d,m={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(v){return function(w){return function(y){if(c)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(m=0)),m;)try{if(c=1,p&&(s=2&y[0]?p.return:y[0]?p.throw||((s=p.return)&&s.call(p),0):p.next)&&!(s=s.call(p,y[1])).done)return s;switch(p=0,s&&(y=[2&y[0],s.value]),y[0]){case 0:case 1:s=y;break;case 4:return m.label++,{value:y[1],done:!1};case 5:m.label++,p=y[1],y=[0];continue;case 7:y=m.ops.pop(),m.trys.pop();continue;default:if(s=m.trys,!((s=s.length>0&&s[s.length-1])||y[0]!==6&&y[0]!==2)){m=0;continue}if(y[0]===3&&(!s||y[1]>s[0]&&y[1]<s[3])){m.label=y[1];break}if(y[0]===6&&m.label<s[1]){m.label=s[1],s=y;break}if(s&&m.label<s[2]){m.label=s[2],m.ops.push(y);break}s[2]&&m.ops.pop(),m.trys.pop();continue}y=h.call(l,m)}catch(M){y=[6,M],p=0}finally{c=s=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([v,w])}}}var ne=["wrist","thumb_cmc","thumb_mcp","thumb_ip","thumb_tip","index_finger_mcp","index_finger_pip","index_finger_dip","index_finger_tip","middle_finger_mcp","middle_finger_pip","middle_finger_dip","middle_finger_tip","ring_finger_mcp","ring_finger_pip","ring_finger_dip","ring_finger_tip","pinky_finger_mcp","pinky_finger_pip","pinky_finger_dip","pinky_finger_tip"],Ee={runtime:"mediapipe",maxHands:2,modelType:"full"},fi=function(){function l(h){var c,p=this;this.width=0,this.height=0,this.selfieMode=!1,this.handsSolution=new hi.Hands({locateFile:function(s,d){return h.solutionPath?h.solutionPath.replace(/\/+$/,"")+"/"+s:d+"/"+s}}),h.modelType==="lite"?c=0:c=1,this.handsSolution.setOptions({modelComplexity:c,selfieMode:this.selfieMode,maxNumHands:h.maxHands}),this.handsSolution.onResults(function(s){if(p.height=s.image.height,p.width=s.image.width,p.hands=[],s.multiHandLandmarks!==null)for(var d=s.multiHandedness,m=s.multiHandLandmarks,g=s.multiHandWorldLandmarks,v=0;v<d.length;v++)p.hands.push(tt(tt({},p.translateOutput(m[v],g[v])),{score:d[v].score,handedness:d[v].label}))})}return l.prototype.translateOutput=function(h,c){var p=this;return{keypoints:h.map(function(s,d){return{x:s.x*p.width,y:s.y*p.height,score:s.visibility,name:ne[d]}}),keypoints3D:c.map(function(s,d){return{x:s.x,y:s.y,z:s.z,score:s.visibility,name:ne[d]}})}},l.prototype.estimateHands=function(h,c){return ft(this,void 0,void 0,function(){var p,s;return ct(this,function(d){switch(d.label){case 0:return c&&c.flipHorizontal&&c.flipHorizontal!==this.selfieMode&&(this.selfieMode=c.flipHorizontal,this.handsSolution.setOptions({selfieMode:this.selfieMode})),h instanceof ke?(s=ImageData.bind,[4,qr(h)]):[3,2];case 1:return p=new(s.apply(ImageData,[void 0,d.sent(),h.shape[1],h.shape[0]])),[3,3];case 2:p=h,d.label=3;case 3:return h=p,[4,this.handsSolution.send({image:h})];case 4:return d.sent(),[2,this.hands]}})})},l.prototype.dispose=function(){this.handsSolution.close()},l.prototype.reset=function(){this.handsSolution.reset(),this.width=0,this.height=0,this.hands=null,this.selfieMode=!1},l.prototype.initialize=function(){return this.handsSolution.initialize()},l}();function ci(l){return ft(this,void 0,void 0,function(){var h,c;return ct(this,function(p){switch(p.label){case 0:return h=function(s){if(s==null)return tt({},Ee);var d=tt({},s);return d.runtime="mediapipe",d.maxHands==null&&(d.maxHands=Ee.maxHands),d.modelType==null&&(d.modelType=Ee.modelType),d}(l),[4,(c=new fi(h)).initialize()];case 1:return p.sent(),[2,c]}})})}function Oe(l){return l.width*l.height}function Zn(l){var h=l.xCenter-l.width/2,c=h+l.width,p=l.yCenter-l.height/2;return{xMin:h,xMax:c,yMin:p,yMax:p+l.height,width:l.width,height:l.height}}function di(l,h){var c=Zn(l),p=Zn(h);if(!function(m,g){return!(m.xMax<g.xMin||g.xMax<m.xMin||m.yMax<g.yMin||g.yMax<m.yMin)}(c,p))return 0;var s=Oe(function(m,g){var v=Math.max(m.xMin,g.xMin),w=Math.min(m.xMax,g.xMax),y=Math.max(m.yMin,g.yMin),M=Math.min(m.yMax,g.yMax);return{xMin:v,xMax:w,yMin:y,yMax:M,width:Math.max(w-v,0),height:Math.max(M-y,0)}}(c,p)),d=Oe(c)+Oe(p)-s;return d>0?s/d:0}function pi(l,h,c,p){var s=l.width,d=l.height,m=1,g=Math.cos(l.rotation),v=Math.sin(l.rotation),w=l.xCenter,y=l.yCenter,M=1/h,j=1/c,A=new Array(16);return A[0]=s*g*m*M,A[1]=-d*v*M,A[2]=0,A[3]=(-.5*s*g*m+.5*d*v+w)*M,A[4]=s*v*m*j,A[5]=d*g*j,A[6]=0,A[7]=(-.5*d*g-.5*s*v*m+y)*j,A[8]=0,A[9]=0,A[10]=s*M,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,function(S){if(S.length!==16)throw new Error("Array length must be 16 but got "+S.length);return[[S[0],S[1],S[2],S[3]],[S[4],S[5],S[6],S[7]],[S[8],S[9],S[10],S[11]],[S[12],S[13],S[14],S[15]]]}(A)}function or(l){return l instanceof ke?{height:l.shape[0],width:l.shape[1]}:{height:l.height,width:l.width}}function re(l){return l-2*Math.PI*Math.floor((l+Math.PI)/(2*Math.PI))}function ur(l){return l instanceof ke?l:ti(l)}function Ce(l,h){Yn(l.width!==0,function(){return h+" width cannot be 0."}),Yn(l.height!==0,function(){return h+" height cannot be 0."})}function vi(l,h){var c=function(p,s,d,m){var g=s-p,v=m-d,w=v/g;return{scale:w,offset:d-p*w}}(0,255,h[0],h[1]);return Tt(function(){return jt(gt(l,c.scale),c.offset)})}function $n(l,h,c){var p=h.outputTensorSize,s=h.keepAspectRatio,d=h.borderMode,m=h.outputTensorFloatRange,g=or(l),v=function(j,A){return A?{xCenter:A.xCenter*j.width,yCenter:A.yCenter*j.height,width:A.width*j.width,height:A.height*j.height,rotation:A.rotation}:{xCenter:.5*j.width,yCenter:.5*j.height,width:j.width,height:j.height,rotation:0}}(g,c),w=function(j,A,S){if(S===void 0&&(S=!1),!S)return{top:0,left:0,right:0,bottom:0};var F=A.height,L=A.width;Ce(A,"targetSize"),Ce(j,"roi");var B,V,H=F/L,C=j.height/j.width,I=0,U=0;return H>C?(B=j.width,V=j.width*H,U=(1-C/H)/2):(B=j.height/H,V=j.height,I=(1-H/C)/2),j.width=B,j.height=V,{top:U,left:I,right:I,bottom:U}}(v,p,s),y=pi(v,g.width,g.height),M=Tt(function(){var j=ur(l),A=ir(function(L,B,V){return Ce(V,"inputResolution"),[1/V.width*L[0][0]*B.width,1/V.height*L[0][1]*B.width,L[0][3]*B.width,1/V.width*L[1][0]*B.height,1/V.height*L[1][1]*B.height,L[1][3]*B.height,0,0]}(y,g,p),[1,8]),S=d==="zero"?"constant":"nearest",F=Re.transform(rr(nr(j,"float32")),A,"bilinear",S,0,[p.height,p.width]);return m!=null?vi(F,m):F});return{imageTensor:M,padding:w,transformationMatrix:y}}function Jn(l,h,c,p){return p===1?.5*(l+h):l+(h-l)*c/(p-1)}function Qn(l){return{xCenter:l.xMin+l.width/2,yCenter:l.yMin+l.height/2,width:l.width,height:l.height}}function mi(l){var h=l.relativeKeypoints;if(h.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var c=Number.MAX_VALUE,p=Number.MAX_VALUE,s=Number.MIN_VALUE,d=Number.MIN_VALUE;return h.forEach(function(m){c=Math.min(c,m.x),s=Math.max(s,m.x),p=Math.min(p,m.y),d=Math.max(d,m.y)}),{xCenter:(c+s)/2,yCenter:(p+d)/2,width:s-c,height:d-p}}function yi(l,h,c,p,s){var d=c==="rect"?function(m,g,v){var w,y=m.locationData;return w=Qn(y.boundingBox),w}(l):function(m,g){var v=m.locationData;return g==="boundingbox"?Qn(v.relativeBoundingBox):mi(v)}(l,h);return s&&(d.rotation=function(m,g,v){var w,y=m.locationData,M=v.rotationVectorStartKeypointIndex,j=v.rotationVectorEndKeypointIndex;w=v.rotationVectorTargetAngle?v.rotationVectorTargetAngle:Math.PI*v.rotationVectorTargetAngleDegree/180;var A=y.relativeKeypoints[M].x*g.width,S=y.relativeKeypoints[M].y*g.height,F=y.relativeKeypoints[j].x*g.width,L=y.relativeKeypoints[j].y*g.height;return re(w-Math.atan2(-(L-S),F-A))}(l,p,s)),d}function gi(l){return Tt(function(){var h=function(s){return Tt(function(){return[ot(s,[0,0,0],[1,-1,1]),ot(s,[0,0,1],[1,-1,-1])]})}(l),c=h[0],p=h[1];return{boxes:nt(p),logits:nt(c)}})}function wi(l,h,c,p){return ft(this,void 0,void 0,function(){var s,d,m,g,v;return ct(this,function(w){switch(w.label){case 0:return l.sort(function(y,M){return Math.max.apply(Math,M.score)-Math.max.apply(Math,y.score)}),s=ir(l.map(function(y){return[y.locationData.relativeBoundingBox.yMin,y.locationData.relativeBoundingBox.xMin,y.locationData.relativeBoundingBox.yMax,y.locationData.relativeBoundingBox.xMax]})),d=Dt(l.map(function(y){return y.score[0]})),[4,Re.nonMaxSuppressionAsync(s,d,h,c)];case 1:return[4,(m=w.sent()).array()];case 2:return g=w.sent(),v=l.filter(function(y,M){return g.indexOf(M)>-1}),wt([s,d,m]),[2,v]}})})}function xi(l,h){return l.map(function(c){var p=tt(tt({},c),{x:c.x*h.width,y:c.y*h.height});return c.z!=null&&(p.z=c.z*h.width),p})}function Mi(l,h,c){return ft(this,void 0,void 0,function(){var p,s,d,m,g;return ct(this,function(v){switch(v.label){case 0:return p=l[0],s=l[1],d=function(w,y,M){return Tt(function(){var j,A,S,F;M.reverseOutputOrder?(A=nt(ot(w,[0,M.boxCoordOffset+0],[-1,1])),j=nt(ot(w,[0,M.boxCoordOffset+1],[-1,1])),F=nt(ot(w,[0,M.boxCoordOffset+2],[-1,1])),S=nt(ot(w,[0,M.boxCoordOffset+3],[-1,1]))):(j=nt(ot(w,[0,M.boxCoordOffset+0],[-1,1])),A=nt(ot(w,[0,M.boxCoordOffset+1],[-1,1])),S=nt(ot(w,[0,M.boxCoordOffset+2],[-1,1])),F=nt(ot(w,[0,M.boxCoordOffset+3],[-1,1]))),A=jt(gt(at(A,M.xScale),y.w),y.x),j=jt(gt(at(j,M.yScale),y.h),y.y),M.applyExponentialOnBoxSize?(S=gt(Gn(at(S,M.hScale)),y.h),F=gt(Gn(at(F,M.wScale)),y.w)):(S=gt(at(S,M.hScale),y.h),F=gt(at(F,M.wScale),y.h));var L=Vn(j,at(S,2)),B=Vn(A,at(F,2)),V=jt(j,at(S,2)),H=jt(A,at(F,2)),C=Wn([Ft(L,[M.numBoxes,1]),Ft(B,[M.numBoxes,1]),Ft(V,[M.numBoxes,1]),Ft(H,[M.numBoxes,1])],1);if(M.numKeypoints)for(var I=0;I<M.numKeypoints;++I){var U=M.keypointCoordOffset+I*M.numValuesPerKeypoint,W=void 0,z=void 0;M.reverseOutputOrder?(W=nt(ot(w,[0,U],[-1,1])),z=nt(ot(w,[0,U+1],[-1,1]))):(z=nt(ot(w,[0,U],[-1,1])),W=nt(ot(w,[0,U+1],[-1,1])));var R=jt(gt(at(W,M.xScale),y.w),y.x),P=jt(gt(at(z,M.yScale),y.h),y.y);C=Wn([C,Ft(R,[M.numBoxes,1]),Ft(P,[M.numBoxes,1])],1)}return C})}(s,h,c),m=Tt(function(){var w=p;return c.sigmoidScore?(c.scoreClippingThresh!=null&&(w=ei(p,-c.scoreClippingThresh,c.scoreClippingThresh)),w=ni(w)):w}),[4,bi(d,m,c)];case 1:return g=v.sent(),wt([d,m]),[2,g]}})})}function bi(l,h,c){return ft(this,void 0,void 0,function(){var p,s,d,m,g,v,w,y,M,j,A,S;return ct(this,function(F){switch(F.label){case 0:return p=[],[4,l.data()];case 1:return s=F.sent(),[4,h.data()];case 2:for(d=F.sent(),m=0;m<c.numBoxes;++m)if(!(c.minScoreThresh!=null&&d[m]<c.minScoreThresh||(g=m*c.numCoords,v=Ai(s[g+0],s[g+1],s[g+2],s[g+3],d[m],c.flipVertically,m),(w=v.locationData.relativeBoundingBox).width<0||w.height<0))){if(c.numKeypoints>0)for((y=v.locationData).relativeKeypoints=[],M=c.numKeypoints*c.numValuesPerKeypoint,j=0;j<M;j+=c.numValuesPerKeypoint)A=g+c.keypointCoordOffset+j,S={x:s[A+0],y:c.flipVertically?1-s[A+1]:s[A+1]},y.relativeKeypoints.push(S);p.push(v)}return[2,p]}})})}function Ai(l,h,c,p,s,d,m){return{score:[s],ind:m,locationData:{relativeBoundingBox:{xMin:h,yMin:d?1-c:l,xMax:p,yMax:d?1-l:c,width:p-h,height:c-l}}}}function _i(l,h){return l==="none"?h:function(c){return 1/(1+Math.exp(-c))}(h)}function qn(l,h,c,p){return ft(this,void 0,void 0,function(){var s,d,m,g,v,w,y,M;return ct(this,function(j){switch(j.label){case 0:return c=c||h.flipHorizontally||!1,p=p||h.flipVertically||!1,s=l.size,d=s/h.numLandmarks,[4,l.data()];case 1:for(m=j.sent(),g=[],v=0;v<h.numLandmarks;++v)w=v*d,(M={x:0,y:0}).x=c?h.inputImageWidth-m[w]:m[w],d>1&&(M.y=p?h.inputImageHeight-m[w+1]:m[w+1]),d>2&&(M.z=m[w+2]),d>3&&(M.score=_i(h.visibilityActivation,m[w+3])),g.push(M);for(y=0;y<g.length;++y)(M=g[y]).x=M.x/h.inputImageWidth,M.y=M.y/h.inputImageHeight,M.z=M.z/h.inputImageWidth/(h.normalizeZ||1);return[2,g]}})})}function tr(l,h,c){var p=l.width,s=l.height,d=l.rotation;if(c.rotation==null&&c.rotationDegree==null||(d=function(y,M){return M.rotation!=null?y+=M.rotation:M.rotationDegree!=null&&(y+=Math.PI*M.rotationDegree/180),re(y)}(d,c)),d===0)l.xCenter=l.xCenter+p*c.shiftX,l.yCenter=l.yCenter+s*c.shiftY;else{var m=(h.width*p*c.shiftX*Math.cos(d)-h.height*s*c.shiftY*Math.sin(d))/h.width,g=(h.width*p*c.shiftX*Math.sin(d)+h.height*s*c.shiftY*Math.cos(d))/h.height;l.xCenter=l.xCenter+m,l.yCenter=l.yCenter+g}if(c.squareLong){var v=Math.max(p*h.width,s*h.height);p=v/h.width,s=v/h.height}else if(c.squareShort){var w=Math.min(p*h.width,s*h.height);p=w/h.width,s=w/h.height}return l.width=p*c.scaleX,l.height=s*c.scaleY,l}function Si(l,h){for(var c=function(k,q){var K=k[0].x*q.width,st=k[0].y*q.height,$=(k[4].x+k[8].x)/2,xt=(k[4].y+k[8].y)/2;return $=($+k[6].x)/2*q.width,xt=(xt+k[6].y)/2*q.height,re(Math.PI/2-Math.atan2(-(xt-st),$-K))}(l,h),p=re(-c),s=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=0,w=l;v<w.length;v++){var y=(L=w[v]).x,M=L.y;s=Math.min(s,y),d=Math.max(d,y),m=Math.min(m,M),g=Math.max(g,M)}var j=(d+s)/2,A=(g+m)/2;s=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY;for(var S=0,F=l;S<F.length;S++){var L,B=((L=F[S]).x-j)*h.width,V=(L.y-A)*h.height,H=B*Math.cos(p)-V*Math.sin(p),C=B*Math.sin(p)+V*Math.cos(p);s=Math.min(s,H),d=Math.max(d,H),m=Math.min(m,C),g=Math.max(g,C)}var I=(d+s)/2,U=(g+m)/2,W=I*Math.cos(c)-U*Math.sin(c)+h.width*j,z=I*Math.sin(c)+U*Math.cos(c)+h.height*A,R=(d-s)/h.width,P=(g-m)/h.height;return{xCenter:W/h.width,yCenter:z/h.height,width:R,height:P,rotation:c}}var ji={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},Ie={runtime:"tfjs",modelType:"full",maxHands:2,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/detector/full/1",landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/landmark/full/1"},Fe={flipHorizontal:!1,staticImageMode:!1},Ti={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2016,numCoords:18,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:7,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.5},Ei=.3,Oi={shiftX:0,shiftY:-.5,scaleX:2.6,scaleY:2.6,squareLong:!0},Ci={shiftX:0,shiftY:-.1,scaleX:2,scaleY:2,squareLong:!0},Ii={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[0,1],borderMode:"zero"},Fi={outputTensorSize:{width:224,height:224},keepAspectRatio:!0,outputTensorFloatRange:[0,1],borderMode:"zero"},ki={numLandmarks:21,inputImageWidth:224,inputImageHeight:224,normalizeZ:.4,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},Ri={numLandmarks:21,inputImageWidth:1,inputImageHeight:1,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},ie,Pi=function(){function l(h,c,p){this.detectorModel=h,this.landmarkModel=c,this.maxHands=p,this.prevHandRectsFromLandmarks=null,this.anchors=function(v){v.reduceBoxesInLowestLayer==null&&(v.reduceBoxesInLowestLayer=!1),v.interpolatedScaleAspectRatio==null&&(v.interpolatedScaleAspectRatio=1),v.fixedAnchorSize==null&&(v.fixedAnchorSize=!1);for(var w=[],y=0;y<v.numLayers;){for(var M=[],j=[],A=[],S=[],F=y;F<v.strides.length&&v.strides[F]===v.strides[y];){var L=Jn(v.minScale,v.maxScale,F,v.strides.length);if(F===0&&v.reduceBoxesInLowestLayer)A.push(1),A.push(2),A.push(.5),S.push(.1),S.push(L),S.push(L);else{for(var B=0;B<v.aspectRatios.length;++B)A.push(v.aspectRatios[B]),S.push(L);if(v.interpolatedScaleAspectRatio>0){var V=F===v.strides.length-1?1:Jn(v.minScale,v.maxScale,F+1,v.strides.length);S.push(Math.sqrt(L*V)),A.push(v.interpolatedScaleAspectRatio)}}F++}for(var H=0;H<A.length;++H){var C=Math.sqrt(A[H]);M.push(S[H]/C),j.push(S[H]*C)}var I=0,U=0;if(v.featureMapHeight.length>0)I=v.featureMapHeight[y],U=v.featureMapWidth[y];else{var W=v.strides[y];I=Math.ceil(v.inputSizeHeight/W),U=Math.ceil(v.inputSizeWidth/W)}for(var z=0;z<I;++z)for(var R=0;R<U;++R)for(var P=0;P<M.length;++P){var k={xCenter:(R+v.anchorOffsetX)/U,yCenter:(z+v.anchorOffsetY)/I,width:0,height:0};v.fixedAnchorSize?(k.width=1,k.height=1):(k.width=j[P],k.height=M[P]),w.push(k)}y=F}return w}(ji);var s=Dt(this.anchors.map(function(v){return v.width})),d=Dt(this.anchors.map(function(v){return v.height})),m=Dt(this.anchors.map(function(v){return v.xCenter})),g=Dt(this.anchors.map(function(v){return v.yCenter}));this.anchorTensor={x:m,y:g,w:s,h:d}}return l.prototype.estimateHands=function(h,c){return ft(this,void 0,void 0,function(){var p,s,d,m,g,v,w,y,M,j,A,S,F,L,B,V,H,C,I=this;return ct(this,function(U){switch(U.label){case 0:return p=function(R){if(R==null)return tt({},Fe);var P=tt({},R);return P.flipHorizontal==null&&(P.flipHorizontal=Fe.flipHorizontal),P.staticImageMode==null&&(P.staticImageMode=Fe.staticImageMode),P}(c),h==null?(this.reset(),[2,[]]):(s=or(h),d=Tt(function(){var R=nr(ur(h),"float32");return p.flipHorizontal&&(R=nt(Re.flipLeftRight(rr(R,0)),[0])),R}),m=this.prevHandRectsFromLandmarks,p.staticImageMode||m==null||m.length<this.maxHands?[4,this.detectPalm(d)]:[3,2]);case 1:return(v=U.sent()).length===0?(this.reset(),d.dispose(),[2,[]]):(w=v.map(function(R){return I.palmDetectionToRoi(R,s)}),g=w,[3,3]);case 2:g=m,U.label=3;case 3:return W=.5,z=[],[g].forEach(function(R){return R.forEach(function(P){(z=z.filter(function(k){return di(P,k)<=W})).push(P)})}),g=z,[4,Promise.all(g.map(function(R){return I.handLandmarks(R,d)}))];case 4:for(y=U.sent(),M=[],this.prevHandRectsFromLandmarks=[],j=0,A=y;j<A.length;j++)(S=A[j])!=null&&(F=S.landmarks,L=S.worldLandmarks,B=S.handScore,V=S.handedness,this.prevHandRectsFromLandmarks.push(this.handLandmarksToRoi(F,s)),(H=xi(F,s))!=null&&H.forEach(function(R,P){delete R.z,R.name=ne[P]}),(C=L)!=null&&C.forEach(function(R,P){R.name=ne[P]}),M.push({keypoints:H,keypoints3D:C,handedness:V,score:B}));return d.dispose(),[2,M]}var W,z})})},l.prototype.dispose=function(){this.detectorModel.dispose(),this.landmarkModel.dispose(),wt([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},l.prototype.reset=function(){this.prevHandRectsFromLandmarks=null},l.prototype.detectPalm=function(h){return ft(this,void 0,void 0,function(){var c,p,s,d,m,g,v,w,y,M;return ct(this,function(j){switch(j.label){case 0:return c=$n(h,Ii),p=c.imageTensor,s=c.padding,d=this.detectorModel.predict(p),m=gi(d),g=m.boxes,[4,Mi([v=m.logits,g],this.anchorTensor,Ti)];case 1:return(w=j.sent()).length===0?(wt([p,d,v,g]),[2,w]):[4,wi(w,this.maxHands,Ei)];case 2:return y=j.sent(),M=function(A,S){A===void 0&&(A=[]);for(var F=S.left,L=S.top,B=S.left+S.right,V=S.top+S.bottom,H=0;H<A.length;H++){var C=A[H],I=C.locationData.relativeBoundingBox,U=(I.xMin-F)/(1-B),W=(I.yMin-L)/(1-V),z=I.width/(1-B),R=I.height/(1-V);I.xMin=U,I.yMin=W,I.width=z,I.height=R,I.xMax=U+z,I.yMax=W+R;var P=C.locationData.relativeKeypoints;P&&P.forEach(function(k){var q=(k.x-F)/(1-B),K=(k.y-L)/(1-V);k.x=q,k.y=K})}return A}(y,s),wt([p,d,v,g]),[2,M]}})})},l.prototype.palmDetectionToRoi=function(h,c){return tr(yi(h,"boundingbox","normRect",c,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:2,rotationVectorTargetAngleDegree:90}),c,Oi)},l.prototype.handLandmarks=function(h,c){return ft(this,void 0,void 0,function(){var p,s,d,m,g,v,w,y,M,j,A,S,F,L,B,V;return ct(this,function(H){switch(H.label){case 0:return p=$n(c,Fi,h),s=p.imageTensor,d=p.padding,m=this.landmarkModel.execute(s,["Identity_2:0","Identity_1:0","Identity:0","Identity_3:0"]),g=m[0],v=m[1],w=m[2],y=m[3],[4,v.data()];case 1:return(M=H.sent()[0])<.5?(wt(m),wt(s),[2,null]):[4,w.data()];case 2:return j=H.sent()[0],A=j>=.5?"Left":"Right",[4,qn(g,ki)];case 3:return S=H.sent(),[4,qn(y,Ri)];case 4:return F=H.sent(),L=function(C,I){var U=I.left,W=I.top,z=I.left+I.right,R=I.top+I.bottom;return C.map(function(P){return tt(tt({},P),{x:(P.x-U)/(1-z),y:(P.y-W)/(1-R),z:P.z/(1-z)})})}(S,d),B=function(C,I,U){U===void 0&&(U={ignoreRotation:!1});for(var W=[],z=0,R=C;z<R.length;z++){var P=R[z],k=P.x-.5,q=P.y-.5,K=U.ignoreRotation?0:I.rotation,st=Math.cos(K)*k-Math.sin(K)*q,$=Math.sin(K)*k+Math.cos(K)*q;st=st*I.width+I.xCenter,$=$*I.height+I.yCenter;var xt=P.z*I.width,Et=tt({},P);Et.x=st,Et.y=$,Et.z=xt,W.push(Et)}return W}(L,h),V=function(C,I){for(var U=[],W=0,z=C;W<z.length;W++){var R=z[W],P=R.x,k=R.y,q=I.rotation,K=Math.cos(q)*P-Math.sin(q)*k,st=Math.sin(q)*P+Math.cos(q)*k,$=tt({},R);$.x=K,$.y=st,U.push($)}return U}(F,h),wt(m),wt(s),[2,{landmarks:B,worldLandmarks:V,handScore:M,handedness:A}]}})})},l.prototype.handLandmarksToRoi=function(h,c){return tr(Si([].concat(h.slice(0,4),h.slice(5,7),h.slice(9,11),h.slice(13,15),h.slice(17,19)),c),c,Ci)},l}();function Ni(l){return ft(this,void 0,void 0,function(){var h,c,p,s,d,m;return ct(this,function(g){switch(g.label){case 0:return h=function(v){if(v==null)return tt({},Ie);var w=tt({},v);if(w.runtime="tfjs",w.maxHands==null&&(w.maxHands=Ie.maxHands),w.modelType==null&&(w.modelType=Ie.modelType),w.modelType!=="lite"&&w.modelType!=="full")throw new Error("Model type must be one of lite or full, but got "+w.modelType);return w.detectorModelUrl==null&&(w.modelType==="lite"?w.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/detector/lite/1":w.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/detector/full/1"),w.landmarkModelUrl==null&&(w.modelType==="lite"?w.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/landmark/lite/1":w.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/handpose_3d/landmark/full/1"),w}(l),c=h.detectorModelUrl.indexOf("https://tfhub.dev")>-1,p=h.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,Promise.all([Dn(h.detectorModelUrl,{fromTFHub:c}),Dn(h.landmarkModelUrl,{fromTFHub:p})])];case 1:return s=g.sent(),d=s[0],m=s[1],[2,new Pi(d,m,h.maxHands)]}})})}function Li(l,h){return ft(this,void 0,void 0,function(){var c,p;return ct(this,function(s){if(l===ie.MediaPipeHands){if(p=void 0,(c=h)!=null){if(c.runtime==="tfjs")return[2,Ni(c)];if(c.runtime==="mediapipe")return[2,ci(c)];p=c.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+p)}throw new Error(l+" is not a supported model name.")})})}(function(l){l.MediaPipeHands="MediaPipeHands"})(ie||(ie={}));const er={thumb:[0,1,2,3,4],indexFinger:[0,5,6,7,8],middleFinger:[0,9,10,11,12],ringFinger:[0,13,14,15,16],pinky:[0,17,18,19,20]},Ui=(l,h)=>{l.length>0&&l.map(c=>{const{keypoints:p}=c;Object.keys(er).map(s=>{const d=er[s];for(let m=0;m<d.length-1;m++){const g=d[m],v=d[m+1];h.beginPath(),h.moveTo(p[g].x,p[g].y),h.lineTo(p[v].x,p[v].y),h.strokeStyle="#34eb37",h.lineWidth=2,h.stroke()}}),p.map(s=>{const{x:d,y:m}=s;h.beginPath(),h.arc(d,m,5,0,2*Math.PI),h.fillStyle="#eb3434",h.fill()})})},Hi={class:"flex items-center justify-center w-full flex-grow"},Bi={class:"ml-auto mr-auto relative w-[1280px] h-[720px]"},Wi=oi({__name:"HandPoseDetection",setup(l){const{resetLoading:h,loaded:c}=ii();h();const p=Xn(),s=Xn(),d=async()=>{const g=ie.MediaPipeHands,w=await Li(g,{runtime:"mediapipe",solutionPath:"https://cdn.jsdelivr.net/npm/@mediapipe/hands",modelType:"full"});setInterval(()=>{m(w)},1)},m=async g=>{const v=p.value,w=s.value;if(typeof v<"u"&&v!==null&&v.video.readyState===4){const y=v.video,M=y.videoWidth,j=y.videoHeight;y.width=M,y.height=j,w.width=M,w.height=j;const A=w.getContext("2d"),S=await g.estimateHands(y);c(),Ui(S,A)}};return ui(d),(g,v)=>(ai(),si("div",Hi,[Kn("div",Bi,[li(ri,{ref_key:"webcamRef",ref:p,class:"w-full h-full absolute"},null,512),Kn("canvas",{ref_key:"canvasRef",ref:s,class:"w-full h-full top-0 left-0 absolute z-10"},null,512)])]))}});export{Wi as default};
